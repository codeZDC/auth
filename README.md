# auth

<ul>
	<li>我的自定义权限系统</li>
	<li>只完成了路径控制,而且每次查出来的权限permission我都没有缓存,下一步工作是看看使用什么缓存来缓存permission</li>
<ul>
<dl>
	<dt>项目架构说明(2018年6月12日15:23:58):</dt>
	<dd>项目采用动静分离,前端框架采用layui,通过异步调用后台接口完成渲染</dd>
	<dd>安全框架使用自定义框架,可通过在web.xml中配置布尔类型的urlControl控制对路径进行访问控制</dd>
	<dd>角色配置权限树使用ztree插件,通过配置权限可对路径进行访问控制和菜单的动态显示,菜单动态显示原本想通过登录角色获取相应的菜单保存到域中,但是sql
	太过复杂,就使用了自定义标签实现,相对简单</dd>
	<dd>当然,在路径控制和菜单显示自定义标签中都需要对角色权限的比对,会频繁的操作数据库,为了提升性能,
	我们需要将角色权限缓存起来,目前使用的是mybatis的二级缓存,针对mapper命名空间进行缓存,在用户授权修改的时候会清空缓存</dd>
<dl>
<dl>
	<dt>权限部门基础完成(2018年6月14日09:17:16):</dt>
	<dd>权限功能完成,目前web.xml中的排除过滤字符有/,所以不会过滤任何路径,所以就没有登录和权限的说法了,如需使用,需要将
	排除过滤/去掉,留下admin即可,因为/admin部分资源是不需要控制的,,任何人都可以拿去,要使用路径权限还需要将urlControl设置为true</dd>
	<dd>针对动态菜单的实现,需要将自定义标签中的输出语句控制一下,现在开发阶段,没有判断就会输出,详情请看authJspTag</dd>
	<dd>因为会使用nginx做动静分离,所以静态页面我们不需要过滤,因为nginx已经过滤了</dd>
<dl>